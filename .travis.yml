language: objective-c
os: osx
osx_image: xcode10.1
rvm:
- 2.2         #see before_install for getting RVM stable.

env:
  global:
    - TRAVIS_TAG="Deploy-2017.2.0f3" 
    - PROJECT_NAME="IPTech.Coroutines" 
    - UNITY_PROJECT_PATH="IPTech-Coroutines" 
    - DEPLOY_UNITYPACKAGE="path set in deploy script"
    - DOWNLOAD_CACHE="unity_download_cache"

cache:
  directories:
    - $DOWNLOAD_CACHE

    
before_install:
- chmod a+x ./travis-build/*.sh

install:
- cat /etc/hosts
- ./travis-build/install-unity.sh

script:
#- ./travis-build/build.sh
- ./travis-build/run-tests.sh

# after_success:
# - ./travis-build/export-unity-package.sh

# before_deploy:
# - DEPLOY_UNITYPACKAGE="$(ls -a release/*.zip | head -n 1)"

# deploy:
#  provider: releases
#  api_key: $GITHUB_TOKEN
#  file: $DEPLOY_UNITYPACKAGE
#  skip_cleanup: true
#  overwrite: true
#  on:
#tags: true 